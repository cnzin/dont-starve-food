(function(){var T=120*0.3333,e={butter:{name:"Butter",fat:1,dairy:1,health:50,hunger:25,perish:19200,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:25,hunger:9.375,perish:2880,stack:40},fish:{name:"Fish",ismeat:!0,meat:0.5,fish:1,health:25,hunger:12.5,perish:1440,stack:40},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:0.5,fish:1,health:50,hunger:12.5,perish:2880,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:40},honey:{name:"Honey",sweetener:!0,health:10,hunger:12.5,perish:19200,stack:40},mandrake:{name:"Mandrake",veggie:1,magic:1,health:75,hunger:75,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,health:100,hunger:150,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-25,hunger:25,perish:5760,stack:20},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,health:-5,
hunger:25,perish:8640,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:25,hunger:25,perish:2880,stack:20},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,health:35,hunger:37.5,perish:5760,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:2880,stack:40},morsel_cooked:{name:"Cooked Morsel",ismeat:!0,meat:0.5,health:25,hunger:12.5,perish:5760,stack:40},drumstick:{name:"Drumstick",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:20},drumstick_cooked:{name:"Fried Drumstick",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:20},egg:{name:"Tallbird Egg",egg:4,health:5,hunger:25},egg_cooked:{name:"Fried Tallbird Egg",egg:4,health:0,hunger:37.5},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:5760,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,health:5,hunger:25,perish:2880,stack:40},corn:{name:"Corn",isveggie:!0,veggie:1,health:5,hunger:25,perish:5760,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,health:5,
hunger:12.5,perish:8640,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:5,hunger:37.5,perish:5760,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,health:25,hunger:37.5,perish:2880,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:25,hunger:25,perish:5760,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,health:50,hunger:25,perish:2880,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-5,hunger:25,perish:5760,stack:20},
durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,health:0,hunger:25,perish:2880,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,health:75,hunger:12.5,perish:1440,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,health:75,hunger:12.5,
perish:1440,stack:40},berries:{name:"Berries",isfruit:!0,fruit:0.5,health:1,hunger:9.375,perish:2880,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:0.5,health:5,hunger:12.5,perish:1440,stack:40},goop:{name:"Rot",uncookable:!0,health:-1,hunger:-10,stack:40},seeds:{name:"Seeds",uncookable:!0,health:1,hunger:9.375,perish:19200,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:5,hunger:12.5,perish:5760,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},twigs:{name:"Twigs",
inedible:1},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,perish:2880,stack:40},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:35,hunger:37.5,perish:2880,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:50,hunger:75,perish:8640,stack:20}},U=function(a,d,c){return!this.item.test(a,d,c)},V=function(){return"not "+this.item},s=function(a){return{item:a,test:U,toString:V,cancel:!0}},W=function(a,d){return d[this.name]||d[this.name+
"_cooked"]},X=function(){return e[this.name].name+(this.qty?this.qty:"")},j=function(a,d){return{name:a,qty:d||null,test:W,toString:X}},Y=function(a,d){return d[this.name]},Z=function(){return"*"+e[this.name].name+(this.qty?this.qty:"")},u=function(a,d){return{name:a,qty:d||null,test:Y,toString:Z}},$=function(a,d,c){return c[this.tag]},aa=function(){return this.tag+(this.qty?this.qty:"")},f=function(a,d){return{tag:a,qty:d||null,test:$,toString:aa}},v={name:"Butter Muffin",test:function(a,d,c){return d.butterflywings&&
c.veggie},requires:"Butterfly Wings, veggie",requirements:[j("butterflywings"),f("veggie")],priority:1,weight:1,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:2},h={name:"Froggle Bunwich",test:function(a,d,c){return d.froglegs&&!d.froglegs_cooked&&c.veggie},requirements:[u("froglegs"),f("veggie")],priority:1,foodtype:"meat",health:25,hunger:37.5,perish:8640,cooktime:2},ba={name:"Stuffed Eggplant",test:function(a,d,c){return d.eggplant&&c.veggie&&1<c.veggie},requirements:[j("eggplant"),
f("veggie",">1")],priority:1,foodtype:"veggie",health:5,hunger:37.5,perish:8640,cooktime:2},ca={name:"Fishsticks",test:function(a,d,c){return c.fish&&d.twigs},requirements:[f("fish"),j("twigs")],priority:10,foodtype:"meat",health:50,hunger:37.5,perish:5760,cooktime:2},da={name:"Honey Nuggets",test:function(a,d,c){return d.honey&&c.meat&&1.5>=c.meat},requirements:[j("honey"),f("meat","<=1.5")],priority:2,foodtype:"meat",health:25,hunger:75,perish:8640,cooktime:2},ea={name:"Honey Ham",test:function(a,
d,c){return d.honey&&c.meat&&1.5<c.meat},requirements:[j("honey"),f("meat",">1.5")],priority:2,foodtype:"meat",health:75,hunger:75,perish:8640,cooktime:2},fa={name:"Dragonpie",test:function(a,d,c){return(d.dragonfruit||d.dragonfruit_cooked)&&!c.meat},requirements:[j("dragonfruit"),s(f("meat"))],priority:1,foodtype:"veggie",health:75,hunger:75,perish:8640,cooktime:2},ga={name:"Kabobs",test:function(a,d,c){return c.meat&&d.twigs},requirements:[f("meat"),j("twigs")],priority:5,foodtype:"meat",health:5,
hunger:37.5,perish:8640,cooktime:2},ha={name:"Mandrake Soup",test:function(a,d){return d.mandrake},requirements:[u("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:2880,cooktime:3},ia={name:"Bacon and Eggs",test:function(a,d,c){return c.egg&&1<c.egg&&c.meat&&1<c.meat&&!c.veggie},requirements:[f("egg",">1"),f("meat",">1"),s(f("veggie"))],priority:10,foodtype:"meat",health:75,hunger:75,perish:11520,cooktime:2},ja={name:"Meatballs",test:function(a,d,c){return c.meat},requirements:[f("meat")],
priority:-1,foodtype:"meat",health:25,hunger:62.5,perish:5760,cooktime:0.75},ka={name:"Meaty Stew",test:function(a,d,c){return c.meat&&3<=c.meat},requirements:[f("meat",">=3")],priority:0,foodtype:"meat",health:25,hunger:150,perish:5760,cooktime:0.75},la={name:"Pierogi",test:function(a,d,c){return c.egg&&c.meat&&c.veggie},requirements:[f("egg"),f("meat"),f("veggie")],priority:5,foodtype:"meat",health:50,hunger:37.5,perish:11520,cooktime:1},u=u("drumstick",">1"),ma=f("meat",">1"),M=f("veggie"),N=f("fruit"),
g={butterflymuffin:v,frogglebunwich:h,stuffedeggplant:ba,fishsticks:ca,honeynuggets:da,honeyham:ea,dragonpie:fa,kabobs:ga,mandrakesoup:ha,baconeggs:ia,meatballs:ja,bonestew:ka,perogies:la,turkeydinner:{name:"Turkey Dinner",test:function(a,d,c){return d.drumstick&&1<d.drumstick&&c.meat&&1<c.meat&&(c.veggie||c.fruit)},requirements:[u,ma,{item1:M,item2:N,test:function(a,d,c){return this.item1.test(a,d,c)||this.item2.test(a,d,c)},toString:function(){return this.item1+" or "+this.item2},cancel:M.cancel||
N.cancel}],priority:10,foodtype:"meat",health:25,hunger:75,perish:2880,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,d,c){return c.veggie},requirements:[f("veggie")],priority:0,foodtype:"veggie",health:25,hunger:25,perish:8640,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,d,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:0.5},fruitmedley:{name:"Fruit Medley",test:function(a,
d,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:75,hunger:25,perish:2880,cooktime:0.5},fishtacos:{name:"Fish Tacos",test:function(a,d,c){return c.fish&&(d.corn||d.corn_cooked)},requirements:[f("fish"),j("corn")],priority:10,foodtype:"meat",health:75,hunger:37.5,perish:2880,cooktime:0.5},waffles:{name:"Waffles",test:function(a,d,c){return d.butter&&(d.berries||d.berries_cooked)&&c.egg},requirements:[j("butter"),j("berries"),f("egg")],priority:10,
foodtype:"veggie",health:75,hunger:37.5,perish:2880,cooktime:0.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,d,c){return c.monster&&2<=c.monster},requirements:[f("monster",">=2")],priority:10,foodtype:"meat",health:-1,hunger:37.5,perish:5760,cooktime:0.5},wetgoop:{name:"Wet Goop",test:function(){return!0},requirements:[],priority:-2,health:0,hunger:0,perish:2880,cooktime:0.25}},b,y,I,O,na=function(a){a.match=a.uncookable?0:0===a.lowerName.indexOf(I)?1:O.test(a.lowerName)?2:0;return a.match},
oa=function(a,d){var c,b;return a.match===d.match?(c=a.raw?a.raw.name:a.name,b=d.raw?d.raw.name:d.name,c!==b?c>b?1:c<b?-1:0:a.name===d.name?0:a.raw===d?1:-1):a.match-d.match};y=function(a,d){I=d.toLowerCase();O=RegExp("\\b"+I.split("").join(".*")+".*");return a.filter(na).sort(oa)};var J,C=[],D,q;J=function(a,d,c){var b,e;C.length=0;var f;D={};q={};for(b=0;b<a.length;b++)if(f=a[b],null!==f)for(e in D[f.id]=1+(D[f.id]||0),f)f.hasOwnProperty(e)&&"perish"!==e?q[e]=f[e]+(q[e]||0):"perish"===e&&(q[e]=
Math.min(q[e]||11520,f[e]));for(a=0;a<g.length;a++){e=!1;for(b=0;b<g[a].requirements.length;b++)if(g[a].requirements[b].test(null,D,q))g[a].requirements[b].cancel||(e=!0);else if(!c&&g[a].requirements[b].cancel){e=!1;break}else if(c&&!g[a].requirements[b].cancel){e=!1;break}e&&(!d||-1===d.indexOf(g[a]))&&C.push(g[a])}C.sort(function(a,c){return c.priority-a.priority});q.img="";q.name="Combined";return C};var P,t=[],E,l;P=function(a){t.length=0;var d,c,b;E={};l={};for(d=0;d<a.length;d++)if(b=a[d],
null!==b)for(c in E[b.id]=1+(E[b.id]||0),b)b.hasOwnProperty(c)&&"perish"!==c?l[c]=b[c]+(l[c]||0):"perish"===c&&(l[c]=Math.min(l[c]||11520,b[c]));for(a=0;a<g.length;a++)g[a].test(null,E,l)&&t.push(g[a]);t.sort(function(a,c){return c.priority-a.priority});l.img="";l.name="Combined";t.unshift(l);return t};var f=0,Q=document.getElementById("main"),s=document.getElementById("food"),j=document.getElementById("recipes"),v=document.getElementById("navbar");document.documentElement.dataset||Object.defineProperty(Element.prototype,
"dataset",{get:function(){this.ds||(this.ds={},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}});h=[];for(b in e)e.hasOwnProperty(b)&&(e[b].match=0,e[b].lowerName=e[b].name.toLowerCase(),e[b].id=b,e[b].img="img/"+e[b].name.replace(/ /g,"_").toLowerCase()+".png",h.length=0,-1!==b.indexOf("_cooked")&&(e[b].cooked=!0),e[b+"_cooked"]&&(e[b].cook=e[b+"_cooked"],e[b+"_cooked"].raw=e[b]),e[b].fruit&&h.push("fruit"+
(1===e[b].fruit?"":" ("+e[b].fruit+")")),e[b].veggie&&h.push("vegetable"+(1===e[b].veggie?"":" ("+e[b].veggie+")")),e[b].meat&&h.push("meat"+(1===e[b].meat?"":" ("+e[b].meat+")")),e[b].egg&&h.push("egg"+(1===e[b].egg?"":" ("+e[b].egg+")")),e[b].fish&&h.push("fish"),e[b].magic&&h.push("magic"),e[b].decoration&&h.push("decoration"),e[b].inedible&&h.push("inedible"),e[b].monster&&h.push("monster food"),e[b].sweetener&&h.push("sweetener"),e[b].fat&&h.push("fat"),e[b].dairy&&h.push("dairy"),e[b].cooked&&
h.push("cooked "+e[b].raw.name),e[b].cook&&h.push("cook into "+e[b].cook.name),e[b].uncookable&&h.push("cannot be added to crock pot"),e[b].info=h.join("; "),e[f++]=e[b]);e.length=f;e.forEach=Array.prototype.forEach;e.filter=Array.prototype.filter;e.sort=Array.prototype.forEach;f=0;for(b in g)g.hasOwnProperty(b)&&(g[b].match=0,g[b].name=g[b].name||b,g[b].id=b,g[b].lowerName=g[b].name.toLowerCase(),g[b].weight=g[b].weight||1,g[b].priority=g[b].priority||0,g[b].img="img/"+g[b].name.replace(/ /g,"_").toLowerCase()+
".png",g[b].requirements&&(g[b].requires=g[b].requirements.join("; ")),g[f++]=g[b]);g.length=f;g.forEach=Array.prototype.forEach;g.filter=Array.prototype.filter;g.sort=Array.prototype.sort;var f=v.getElementsByTagName("li"),K={},F={},z,A,v=function(a){A.className="";A=K[a.target.dataset.tab];z.style.display="none";z=F[a.target.dataset.tab];A.className="selected";z.style.display="block"};for(b=0;b<f.length;b++)h=f[b],h.dataset.tab&&(K[h.dataset.tab]=h,F[h.dataset.tab]=document.getElementById(h.dataset.tab),
F[h.dataset.tab].style.display="none",h.addEventListener("click",v,!1));A=K.simulator;z=F.simulator;A.className="selected";z.style.display="block";var R=function(a){var d,c,b,e=document.createElement("tr"),f;for(d=1;d<arguments.length;d++)c=document.createElement(a),f=arguments[d]&&arguments[d].indexOf?arguments[d]:arguments[d].toString(),0===f.indexOf("img/")?(b=new Image,b.src=f,b.style.width="40px",b.style.height="40px",c.appendChild(b)):c.appendChild(document.createTextNode(f)),e.appendChild(c);
return e},B=function(a,d,c,b,e){var f,g,h=b,p=!1,j=function(b){var k,m;b&&""!==b.target.dataset.sort&&(m=b.target.dataset.sort,e&&(k=d.shift()),"name"===m?d.sort(function(a,c){return c[m]<a[m]?1:c[m]>a[m]?-1:0}):d.sort(function(a,c){var d=a[m],b=c[m];return!isNaN(d)&&!isNaN(b)?b-d:isNaN(d)&&isNaN(b)?0:isNaN(d)?1:-1}),h===m?p=!p:(h=m,p=!1),p&&d.reverse(),e&&d.unshift(k));b=document.createElement("tr");for(g in a)k=document.createElement("th"),k.appendChild(document.createTextNode(g)),a[g]&&(a[g]===
h&&(k.style.background=p?"#555":"#ccc",k.style.color=p?"#ccc":"#555",k.style.borderRadius="4px"),k.style.cursor="pointer",k.dataset.sort=a[g],k.addEventListener("click",j,!1)),b.appendChild(k);k=f;f=document.createElement("table");f.appendChild(b);d.forEach(c,f);k&&k.parentNode.replaceChild(f,k)};j();return f},G=function(a){return isNaN(a)?"":0<a?"+"+a:a};s.appendChild(B({"":"",Name:"name",Health:"health",Hunger:"hunger",Perish:"perish",Info:""},Array.prototype.slice.call(e),function(a){this.appendChild(R("td",
a.img?a.img:"",a.name,G(a.health),G(a.hunger),isNaN(a.perish)?"Never":a.perish/480+" days",a.info||""))},null));var H=function(a,d,c){return R("td",a.img?a.img:"",a.name,G(a.health)+(d&&a.health!==d?" ("+(1E3*(a.health/d)|0)/10+"%)":""),G(a.hunger)+(c&&a.hunger!==c?" ("+(1E3*(a.hunger/c)|0)/10+"%)":""),(a.cooktime*T+0.5|0)+" secs",isNaN(a.perish)?"Never":a.perish/480+" days",a.priority||"0",a.requires||"")};j.appendChild(B({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",
Perish:"perish",Priority:"priority",Requires:""},Array.prototype.slice.call(g),function(a){this.appendChild(H(a))},null));window.food=e;window.recipes=g;window.matchingNames=y;for(var x=function(a,d){var c=!1;null!==d?a.dataset.id=d.id:a.nextSibling&&null!==w(a.nextSibling)?(x(a,w(a.nextSibling)),x(a.nextSibling,null),c=!0):a.dataset.id=null;c||(a.style.background=null!==d?"url('"+d.img+"') center center, url('img/background.png') top left":"url('img/background.png') top left")},w=function(a){return e[a.dataset.id]||
g[a.dataset.id]||null},S=document.getElementsByClassName("ingredientpicker"),L=S.length;L--;)(function(){var a=document.createElement("div"),d=document.createElement("ul"),c=S[L],b=L,f,h="recipes"===c.dataset.type?g:e,j=c.parentNode,n=j.getElementsByClassName("ingredient"),p,l,r=document.getElementById("results"),k=document.getElementById("discover"),m=!1,q=function(a){var c=e[a]||g[a]||null;if(p){for(a=0;a<n.length;a++)if(null===w(n[a]))return x(n[a],c),l(),a;return-1}-1===n.indexOf(a)&&(n.push(a),
a=document.createElement("span"),a.className="ingredient",x(a,c),a.addEventListener("click",v,!1),j.appendChild(a),l());return 1},s=function(b){var e,f=q(b.target.dataset.id);-1!==f&&(a.removeChild(d),d=document.createElement("ul"),e=y(h,""),e.forEach(u,d),a.appendChild(d),c.value="",f<n.length-1||!p?c.focus():c.blur(),b&&b.preventDefault&&b.preventDefault(),t())},u=function(a){var c=new Image,b=document.createElement("li");c.src=a.img;b.appendChild(c);b.appendChild(document.createTextNode(a.name));
b.dataset.id=a.id;b.addEventListener("mousedown",s,!1);this.appendChild(b)},v=function(a){p?null!==w(a.target)?(x(a.target,null),l()):c.focus():(n.splice(n.indexOf(a.target.dataset.id),1),j.removeChild(a.target),l())},t=function(){0<Q.offsetLeft-a.offsetWidth?(a.style.left=-a.offsetWidth+"px",a.style.top=c.offsetTop+"px"):Q.offsetLeft+c.offsetLeft+c.offsetWidth+a.offsetWidth>window.innerWidth?(a.style.left=c.offsetLeft+"px",a.style.top=c.offsetTop+c.offsetHeight+"px"):(a.style.left=c.offsetLeft+c.offsetWidth+
"px",a.style.top=c.offsetTop+"px")};"ingredients"===j.id?l=function(){var a,c,b,d,e;a=Array.prototype.map.call(n,function(a){return w(a)});c=P(a);b=c[0].health;d=c[0].hunger;e=B({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},c,function(a){this.appendChild(H(a,b,d))},"priority",!0);r.firstChild&&r.removeChild(r.firstChild);r.firstChild&&(r.removeChild(r.firstChild),r.removeChild(r.firstChild));r.appendChild(e);null!==a[0]&&
(c=J(a,c),0<c.length&&(r.appendChild(document.createTextNode("Add more ingredients to make:")),e=B({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},c,function(a){this.appendChild(H(a,b,d))},"priority"),r.appendChild(e)))}:"inventory"===j.id?l=function(){var a;a=Array.prototype.map.call(j.getElementsByClassName("ingredient"),function(a){return w(a)});k.firstChild&&k.removeChild(k.firstChild);0<a.length&&(a=J(a,null,!0),0<a.length&&
(a=B({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},a,function(a){this.appendChild(H(a))},"priority"),k.appendChild(a)))}:console.log("error: no update function implemented for "+j.id);0!==n.length?(p=!0,Array.prototype.forEach.call(n,function(a){x(a,null);a.addEventListener("click",v,!1)})):(n=[],p=!1);window.localStorage&&localStorage.foodGuideState&&(f=JSON.parse(localStorage.foodGuideState),f[b]&&f[b].forEach(function(a){q(a)}));
a.className="ingredientdropdown";a.appendChild(d);document.createElement("li");f=y(h,c.value);a.removeChild(d);d=document.createElement("ul");f.forEach(u,d);a.appendChild(d);c.addEventListener("keydown",function(a){var c,b,e;b=d.getElementsByTagName("li");for(e=0;e<b.length;e++)if("selected"===b[e].className){c=b[e];b[e].className="";38===a.keyCode?b[0>e-1?b.length-1:e-1].className="selected":40===a.keyCode?b[(e+1)%b.length].className="selected":13===a.keyCode&&c&&(s({target:c}),t());break}!c&&0<
b.length&&(38===a.keyCode?b[b.length-1].className="selected":40===a.keyCode?b[0].className="selected":13===a.keyCode&&s({target:b[0]}))},!1);c.addEventListener("keyup",function(b){-1===[16,17,37,38,39,40,13].indexOf(b.keyCode)&&(document.createElement("li"),b=y(h,c.value),a.removeChild(d),d=document.createElement("ul"),b.forEach(u,d),a.appendChild(d),t())},!1);c.addEventListener("focus",function(){m||(m=!0,j.appendChild(a),t())},!1);c.addEventListener("blur",function(){m&&(m=!1,j.removeChild(a))},
!1);l();window.addEventListener("beforeunload",function(){var a,c;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="[]"),a=JSON.parse(localStorage.foodGuideState),p?(c=[],c=Array.prototype.map.call(n,function(a){return(a=w(a))?a.id:null}),a[b]=c):a[b]=n,localStorage.foodGuideState=JSON.stringify(a))})})()})
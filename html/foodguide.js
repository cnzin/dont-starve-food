(function(){var ga=120*0.3333,e={butter:{name:"Butter",fat:1,dairy:1,health:50,hunger:25,perish:19200,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:25,hunger:9.375,perish:2880,stack:40},fish:{name:"Fish",ismeat:!0,meat:0.5,fish:1,health:25,hunger:12.5,perish:1440,stack:40},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:0.5,fish:1,health:50,hunger:12.5,perish:2880,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:40},honey:{name:"Honey",sweetener:!0,inedible:!0,health:10,hunger:12.5,perish:19200,stack:40},mandrake:{name:"Mandrake",veggie:1,magic:1,health:75,hunger:75,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,health:100,hunger:150,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-25,hunger:25,perish:5760,stack:20},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,
health:-5,hunger:25,perish:8640,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:25,hunger:25,perish:2880,stack:20},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,health:35,hunger:37.5,perish:5760,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:2880,stack:40},morsel_cooked:{name:"Cooked Morsel",ismeat:!0,meat:0.5,health:25,hunger:12.5,perish:5760,stack:40},drumstick:{name:"Drumstick",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:20},drumstick_cooked:{name:"Fried Drumstick",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:20},egg:{name:"Tallbird Egg",egg:4,health:5,hunger:25},egg_cooked:{name:"Fried Tallbird Egg",egg:4,health:0,hunger:37.5,perish:2880},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:5760,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,health:5,hunger:25,perish:2880,stack:40},corn:{name:"Corn",isveggie:!0,veggie:1,health:5,hunger:25,perish:5760,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,
health:5,hunger:12.5,perish:8640,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:5,hunger:37.5,perish:5760,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,health:25,hunger:37.5,perish:2880,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:25,hunger:25,perish:5760,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,health:50,hunger:25,perish:2880,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-5,hunger:25,perish:5760,
stack:20},durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,health:0,hunger:25,perish:2880,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,health:75,hunger:12.5,perish:1440,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,health:75,
hunger:12.5,perish:1440,stack:40},berries:{name:"Berries",isfruit:!0,fruit:0.5,health:1,hunger:9.375,perish:2880,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:0.5,health:5,hunger:12.5,perish:1440,stack:40},goop:{name:"Rot",uncookable:!0,health:-1,hunger:-10,stack:40},seeds:{name:"Seeds",uncookable:!0,health:1,hunger:9.375,perish:19200,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:5,hunger:12.5,perish:5760,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},
twigs:{name:"Twigs",inedible:1},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,perish:2880,stack:40},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:35,hunger:37.5,perish:2880,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:50,hunger:75,perish:8640,stack:20}},ha=function(){return this.op+this.qty},ia={"=":function(a){return a===this.qty},">":function(a){return a>this.qty},"<":function(a){return a<this.qty},">=":function(a){return a>=
this.qty},"<=":function(a){return a<=this.qty}},P={test:function(a){return!!a},toString:function(){return""}},n=function(a,b){return{op:a,qty:b,test:ia[a],toString:ha}},ja=function(a,b,c){return!this.item.test(a,b,c)},ka=function(){return"not "+this.item},y=function(a){return{item:a,test:ja,toString:ka,cancel:!0}},la=function(a,b){return(b[this.name]||0)+(b[this.name+"_cooked"]||0)},ma=function(){return"[*"+e[this.name].name+"|"+e[this.name].img+" "+e[this.name].name+"]"+(e[this.name].cook?"[*"+e[this.name].cook.name+
"|"+e[this.name].cook.img+"]":"")+(e[this.name].raw?"[*"+e[this.name].raw.name+"|"+e[this.name].raw.img+"]":"")+(this.qty?this.qty:"")},q=function(a,b){return{name:a,qty:b||P,test:la,toString:ma}},na=function(a,b){return b[this.name]},oa=function(){return"[*"+e[this.name].name+"|"+e[this.name].img+" "+e[this.name].name+"]"+(this.qty?this.qty:"")},k=function(a,b){return{name:a,qty:b||P,test:na,toString:oa}},pa=function(a,b,c){return c[this.tag]},qa=function(){return"[tag:"+this.tag+"|"+this.tag+"]"+
(this.qty?this.qty:"")},f=function(a,b){return{tag:a,qty:b||P,test:pa,toString:qa}},l={name:"Butter Muffin",test:function(a,b,c){return b.butterflywings&&c.veggie},requires:"Butterfly Wings, veggie",requirements:[q("butterflywings"),f("veggie")],priority:1,weight:1,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:2},p={name:"Froggle Bunwich",test:function(a,b,c){return b.froglegs&&!b.froglegs_cooked&&c.veggie},requirements:[k("froglegs"),f("veggie")],priority:1,foodtype:"meat",health:25,
hunger:37.5,perish:8640,cooktime:2},ra={name:"Stuffed Eggplant",test:function(a,b,c){return b.eggplant&&c.veggie&&1<c.veggie},requirements:[q("eggplant"),f("veggie",n(">",1))],priority:1,foodtype:"veggie",health:5,hunger:37.5,perish:8640,cooktime:2},sa={name:"Fishsticks",test:function(a,b,c){return c.fish&&b.twigs},requirements:[f("fish"),k("twigs")],priority:10,foodtype:"meat",health:50,hunger:37.5,perish:5760,cooktime:2},ta={name:"Honey Nuggets",test:function(a,b,c){return b.honey&&c.meat&&1.5>=
c.meat},requirements:[k("honey"),f("meat",n("<=",1.5))],priority:2,foodtype:"meat",health:25,hunger:75,perish:8640,cooktime:2},ua={name:"Honey Ham",test:function(a,b,c){return b.honey&&c.meat&&1.5<c.meat},requirements:[k("honey"),f("meat",n(">",1.5))],priority:2,foodtype:"meat",health:75,hunger:75,perish:8640,cooktime:2},va={name:"Dragonpie",test:function(a,b,c){return(b.dragonfruit||b.dragonfruit_cooked)&&!c.meat},requirements:[q("dragonfruit"),y(f("meat"))],priority:1,foodtype:"veggie",health:75,
hunger:75,perish:8640,cooktime:2},wa={name:"Kabobs",test:function(a,b,c){return c.meat&&b.twigs},requirements:[f("meat"),k("twigs")],priority:5,foodtype:"meat",health:5,hunger:37.5,perish:8640,cooktime:2},xa={name:"Mandrake Soup",test:function(a,b){return b.mandrake},requirements:[k("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:2880,cooktime:3},ya={name:"Bacon and Eggs",test:function(a,b,c){return c.egg&&1<c.egg&&c.meat&&1<c.meat&&!c.veggie},requirements:[f("egg",n(">",1)),
f("meat",n(">",1)),y(f("veggie"))],priority:10,foodtype:"meat",health:75,hunger:75,perish:11520,cooktime:2},za={name:"Meatballs",test:function(a,b,c){return c.meat},requirements:[f("meat")],priority:-1,foodtype:"meat",health:25,hunger:62.5,perish:5760,cooktime:0.75},Aa={name:"Meaty Stew",test:function(a,b,c){return c.meat&&3<=c.meat},requirements:[f("meat",n(">=",3))],priority:0,foodtype:"meat",health:25,hunger:150,perish:5760,cooktime:0.75},Ba={name:"Pierogi",test:function(a,b,c){return c.egg&&c.meat&&
c.veggie},requirements:[f("egg"),f("meat"),f("veggie")],priority:5,foodtype:"meat",health:50,hunger:37.5,perish:11520,cooktime:1},Ca=k("drumstick",n(">",1)),Da=f("meat",n(">",1)),V=f("veggie"),W=f("fruit"),g={butterflymuffin:l,frogglebunwich:p,stuffedeggplant:ra,fishsticks:sa,honeynuggets:ta,honeyham:ua,dragonpie:va,kabobs:wa,mandrakesoup:xa,baconeggs:ya,meatballs:za,bonestew:Aa,perogies:Ba,turkeydinner:{name:"Turkey Dinner",test:function(a,b,c){return b.drumstick&&1<b.drumstick&&c.meat&&1<c.meat&&
(c.veggie||c.fruit)},requirements:[Ca,Da,{item1:V,item2:W,test:function(a,b,c){return this.item1.test(a,b,c)||this.item2.test(a,b,c)},toString:function(){return this.item1+" or "+this.item2},cancel:V.cancel||W.cancel}],priority:10,foodtype:"meat",health:25,hunger:75,perish:2880,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,b,c){return c.veggie},requirements:[f("veggie")],priority:0,foodtype:"veggie",health:25,hunger:25,perish:8640,cooktime:1},jammypreserves:{name:"Fist Full of Jam",
test:function(a,b,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),y(f("veggie"))],priority:0,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:0.5},fruitmedley:{name:"Fruit Medley",test:function(a,b,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),y(f("veggie"))],priority:0,foodtype:"veggie",health:75,hunger:25,perish:2880,cooktime:0.5},fishtacos:{name:"Fish Tacos",test:function(a,b,c){return c.fish&&(b.corn||b.corn_cooked)},requirements:[f("fish"),q("corn")],priority:10,foodtype:"meat",
health:75,hunger:37.5,perish:2880,cooktime:0.5},waffles:{name:"Waffles",test:function(a,b,c){return b.butter&&(b.berries||b.berries_cooked)&&c.egg},requirements:[k("butter"),q("berries"),f("egg")],priority:10,foodtype:"veggie",health:75,hunger:37.5,perish:2880,cooktime:0.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,b,c){return c.monster&&2<=c.monster},requirements:[f("monster",n(">=",2))],priority:10,foodtype:"meat",health:-1,hunger:37.5,perish:5760,cooktime:0.5},wetgoop:{name:"Wet Goop",
test:function(){return!0},requirements:[],priority:-2,health:0,hunger:0,perish:2880,cooktime:0.25}},C,j,X,Ea=/^tag[: ]/,Fa=/^tag:? */,v,Ga=/^recipe[: ]/,Ha=/^recipe:? */,Y,Z,Ia=function(a){a.match=a.uncookable?0:0===a.lowerName.indexOf(j)||a.raw&&0===a.raw.lowerName.indexOf(j)?3:0===Z.test(a.lowerName)?2:Y.test(a.lowerName)?1:0;return a.match},Ja=function(a){return a.match=a[X]+0||0},Ka=function(a){for(var b=0,c,d=!0;b<v.length;){c=v[b].test(null,a.nameObject,a);if(v[b].cancel){if(!c){d=!0;break}}else c&&
(d=!1);b++}return a.match=d?0:1},La=function(a){return a.match=a.lowerName===j?1:0},Ma=function(a){return a.match=a.lowerName===j||a.raw&&a.raw.lowerName===j||a.cook&&a.cook.lowerName===j?1:0},A=function(a,b){var c,d;return a.match===b.match?(c=a.raw?a.raw.name:a.name,d=b.raw?b.raw.name:b.name,c!==d?c>d?1:c<d?-1:0:a.name===b.name?0:a.raw===b?1:-1):b.match-a.match};C=function(a,b){j=b.toLowerCase();if(Ea.test(j))return X=j.split(Fa)[1],a.filter(Ja).sort(A);if(Ga.test(j))return v=j.replace(" ","").split(Ha)[1],
g[v]?(v=g[v].requirements,a.filter(Ka).sort(A)):[];if(0===j.indexOf("*"))return j=j.substring(1),a.filter(La).sort(A);if(0===j.indexOf("~"))return j=j.substring(1),a.filter(Ma).sort(A);Z=RegExp("\\b"+j+".*");Y=RegExp("\\b"+j.split("").join(".*")+".*");return a.filter(Ia).sort(A)};var Q,J,t;Q=function(a,b,c,d){var e,f;a.length=0;var h;J={};t={};for(e=0;e<b.length;e++)if(h=b[e],null!==h)for(f in J[h.id]=1+(J[h.id]||0),h)h.hasOwnProperty(f)&&"perish"!==f?t[f]=h[f]+(t[f]||0):"perish"===f&&(t[f]=Math.min(t[f]||
11520,h[f]));for(b=0;b<g.length;b++){f=!1;for(e=0;e<g[b].requirements.length;e++)if(g[b].requirements[e].test(null,J,t))g[b].requirements[e].cancel||(f=!0);else if(!d&&g[b].requirements[e].cancel){f=!1;break}else if(d&&!g[b].requirements[e].cancel){f=!1;break}f&&(!c||-1===c.indexOf(g[b]))&&a.push(g[b])}t.img="";t.name="Combined";return a};var $,F=[],K,s;$=function(a){F.length=0;var b,c,d;K={};s={};for(b=0;b<a.length;b++)if(d=a[b],null!==d)for(c in K[d.id]=1+(K[d.id]||0),d)d.hasOwnProperty(c)&&"perish"!==
c?s[c]=d[c]+(s[c]||0):"perish"===c&&(s[c]=Math.min(s[c]||11520,d[c]));for(a=0;a<g.length;a++)g[a].test(null,K,s)&&F.push(g[a]);F.sort(function(a,b){return b.priority-a.priority});s.img="";s.name="Combined";F.unshift(s);return F};var u=document.createElement("canvas"),R=u.getContext&&u.toDataURL&&u.getContext("2d"),w={},aa=!!R,L=[],Na=function(a){return function(b){b=b.target;R.clearRect(0,0,u.width,u.height);R.drawImage(b,0,0);try{w[a]=u.toDataURL()}catch(c){aa=!1}L.filter(function(b){return b.url===
a}).forEach(function(b){b.url===a&&(delete b.img.dataset.pending,M&&b.img.removeAttribute("data-pending"),b.img.src=w[a]||a)});L=L.filter(function(b){return b.url!==a})}},ba=function(a,b){a.dataset.pending=b;M&&a.setAttribute("data-pending",b);L.push({url:b,img:a})},D=function(a){var b=new Image;aa?w[a]?b.src=w[a]:null===w[a]?ba(b,a):(w[a]=null,b.addEventListener("load",Na(a),!1),b.src=a):b.src=a;return b};u.width=64;u.height=64;D.queue=ba;var Oa=/\[([^\|]*)\|([^\|]*)\]/,q=function(a){var b=a&&a.split(Oa),
c,d;if(!b||1===b.length)return a;a=document.createDocumentFragment();a.appendChild(document.createTextNode(b[0]));for(c=1;c<b.length;c+=3)d=document.createElement("span"),d.className="link",d.dataset.link=b[c],M&&d.setAttribute("data-link",b[c]),b[c+1]&&0===b[c+1].indexOf("img/")?(d.appendChild(document.createTextNode(b[c+1].split(" ").slice(1).join(" "))),d.appendChild(D(b[c+1].split(" ")[0]))):d.appendChild(document.createTextNode(b[c+1]?b[c+1]:b[c])),a.appendChild(d),a.appendChild(document.createTextNode(b[c+
2]));return a},d,k=0,ca=document.getElementById("main"),n=document.getElementById("food"),y=document.getElementById("recipes"),f=document.getElementById("navbar"),M=!1;document.documentElement.dataset||(M=!0,Object.defineProperty(Element.prototype,"dataset",{get:function(){this.ds||(this.ds={},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}}));p=function(a,b){return"[tag:"+a+"|"+(b||a)+"]"};for(d in e)e.hasOwnProperty(d)&&
(e[d].match=0,e[d].lowerName=e[d].name.toLowerCase(),e[d].id=d,e[d].nameObject={},e[d].nameObject[d]=1,e[d].img="img/"+e[d].name.replace(/ /g,"_").toLowerCase()+".png",-1!==d.indexOf("_cooked")&&(e[d].cooked=!0),e[d+"_cooked"]&&(e[d].cook=e[d+"_cooked"],e[d+"_cooked"].raw=e[d]),e[d].info=[],l=e[d].info,e[d].fruit&&l.push(p("fruit")+(1===e[d].fruit?"":"\u00d7"+e[d].fruit)),e[d].veggie&&l.push(p("veggie","vegetable")+(1===e[d].veggie?"":"\u00d7"+e[d].veggie)),e[d].meat&&l.push(p("meat")+(1===e[d].meat?
"":"\u00d7"+e[d].meat)),e[d].egg&&l.push(p("egg")+(1===e[d].egg?"":"\u00d7"+e[d].egg)),e[d].fish&&l.push(p("fish")),e[d].magic&&l.push(p("magic")),e[d].decoration&&l.push(p("decoration")),e[d].inedible&&l.push(p("inedible")),e[d].monster&&l.push(p("monster","monster food")),e[d].sweetener&&l.push(p("sweetener")),e[d].fat&&l.push(p("fat")),e[d].dairy&&l.push(p("dairy")),e[k++]=e[d]);for(d in e)e.hasOwnProperty(d)&&isNaN(d)&&(l=e[d].info,e[d].cooked&&l.push("cooked [*"+e[d].raw.name+"|"+e[d].raw.img+
" "+e[d].raw.name+"]"),e[d].cook&&l.push("cook into [*"+e[d].cook.name+"|"+e[d].cook.img+" "+e[d].cook.name+"]"),e[d].uncookable&&l.push("cannot be added to crock pot"),e[d].info=q(l.join("; ")));e.length=k;e.forEach=Array.prototype.forEach;e.filter=Array.prototype.filter;e.sort=Array.prototype.forEach;k=0;for(d in g)g.hasOwnProperty(d)&&(g[d].match=0,g[d].name=g[d].name||d,g[d].id=d,g[d].lowerName=g[d].name.toLowerCase(),g[d].weight=g[d].weight||1,g[d].priority=g[d].priority||0,g[d].img="img/"+g[d].name.replace(/ /g,
"_").toLowerCase()+".png",g[d].requirements&&(g[d].requires=q(g[d].requirements.join("; "))),g[k++]=g[d]);g.length=k;g.forEach=Array.prototype.forEach;g.filter=Array.prototype.filter;g.sort=Array.prototype.sort;var q=f.getElementsByTagName("li"),G={},H={},z,x,k=function(a){x.className="";x=G[a.target.dataset.tab];z.style.display="none";z=H[a.target.dataset.tab];x.className="selected";z.style.display="block"};for(d=0;d<q.length;d++)f=q[d],f.dataset.tab&&(G[f.dataset.tab]=f,H[f.dataset.tab]=document.getElementById(f.dataset.tab),
H[f.dataset.tab].style.display="none",f.addEventListener("click",k,!1));x=G.simulator;z=H.simulator;window.localStorage&&localStorage.foodGuideState&&("["===localStorage.foodGuideState[0]?(d={},d.pickers=JSON.parse(localStorage.foodGuideState),localStorage.foodGuideState=JSON.stringify(d)):d=JSON.parse(localStorage.foodGuideState),d.activeTab&&G[d.activeTab]&&(x=G[d.activeTab],z=H[d.activeTab]));x.className="selected";z.style.display="block";window.addEventListener("beforeunload",function(){var a;
window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=x.dataset.tab,localStorage.foodGuideState=JSON.stringify(a))});var Pa=function(a){a.dataset.pending&&D.queue(a,a.dataset.pending)},da=function(a){var b,c,d,e=document.createElement("tr"),f;for(b=1;b<arguments.length;b++)c=document.createElement(a),f=(d=arguments[b])&&d.indexOf?d:d.toString(),d instanceof DocumentFragment?(c.appendChild(d.cloneNode(!0)),Array.prototype.forEach.call(c.getElementsByTagName("img"),
Pa)):0===f.indexOf("img/")?(d=D(f),c.appendChild(d)):c.appendChild(document.createTextNode(f)),e.appendChild(c);return e},I=function(a,b,c,d,e,f,g){var m,l,j,k=!1,p=function(a){var b=c(a);g&&g(a)&&(b.className="highlighted");m.appendChild(b)},r=function(c,d){var g,h,n;if(d||c&&""!==c.target.dataset.sort)n=d||c.target.dataset.sort,e&&(g=b.shift()),"name"===n?b.sort(function(a,b){var c=a.raw?a.raw.name:a.name,d=b.raw?b.raw.name:b.name;return c!==d?c>d?1:c<d?-1:0:a.name===b.name?0:a.raw===b?1:-1}):b.sort(function(a,
b){var c=a[n],d=b[n];return!isNaN(c)&&!isNaN(d)?d-c:isNaN(c)&&isNaN(d)?0:isNaN(c)?1:-1}),j===n?k=!k:(j=n,k=!1),k&&b.reverse(),e&&b.unshift(g);g=document.createElement("tr");for(l in a)h=document.createElement("th"),h.appendChild(document.createTextNode(l)),a[l]&&(a[l]===j&&(h.style.background=k?"#555":"#ccc",h.style.color=k?"#ccc":"#555",h.style.borderRadius="4px"),h.style.cursor="pointer",h.dataset.sort=a[l],h.addEventListener("click",r,!1)),g.appendChild(h);h=m;m=document.createElement("table");
m.appendChild(g);b.forEach(p);f&&(m.className="links",Array.prototype.forEach.call(m.getElementsByClassName("link"),function(a){a.addEventListener("click",f,!1)}));h&&h.parentNode.replaceChild(m,h)};d?r(null,d):r();m.update=r;return m},N=function(a){return isNaN(a)?"":0<a?"+"+a:a},S,T=[],ea=I({"":"",Name:"name",Health:"health",Hunger:"hunger",Perish:"perish",Info:""},Array.prototype.slice.call(e),function(a){return da("td",a.img?a.img:"",a.name,N(a.health),N(a.hunger),isNaN(a.perish)?"Never":a.perish/
480+" days",a.info||"")},"name",!1,function(a){a="IMG"===a.target.tagName?a.target.parentNode.dataset.link:a.target.dataset.link;S!==a?(S=a,T=C(e,a)):(S="",T.length=0);ea.update()},function(a){return-1!==T.indexOf(a)});n.appendChild(ea);var O=function(a,b,c){return da("td",a.img?a.img:"",a.name,N(a.health)+(b&&a.health!==b?" ("+(1E3*(a.health/b)|0)/10+"%)":""),N(a.hunger)+(c&&a.hunger!==c?" ("+(1E3*(a.hunger/c)|0)/10+"%)":""),(a.cooktime*ga+0.5|0)+" secs",isNaN(a.perish)?"Never":a.perish/480+" days",
a.priority||"0",a.requires||"")};y.appendChild(I({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},Array.prototype.slice.call(g),O,"name"));window.food=e;window.recipes=g;window.matchingNames=C;for(var E=function(a,b){var c=!1;null!==b?a.dataset.id=b.id:a.nextSibling&&null!==B(a.nextSibling)?(E(a,B(a.nextSibling)),E(a.nextSibling,null),c=!0):a.dataset.id=null;c||(null!==b?a.firstChild?a.replaceChild(D(b.img),a.firstChild):a.appendChild(D(b.img)):
a.firstChild&&a.removeChild(a.firstChild),a.title=b?b.name:"")},B=function(a){return e[a.dataset.id]||g[a.dataset.id]||null},fa=document.getElementsByClassName("ingredientpicker"),U=fa.length;U--;)(function(){var a=document.createElement("div"),b=document.createElement("ul"),c=fa[U],d=U,f,l="recipes"===c.dataset.type?g:e,h=c.nextSibling,m=h.getElementsByClassName("ingredient"),k,j,n=[],p=[],r=document.getElementById("results"),q=document.getElementById("discover"),s=document.createElement("span"),
t=!1,u=function(a){var b=e[a]||g[a]||null;if(k){for(a=0;a<m.length;a++)if(null===B(m[a]))return E(m[a],b),j(),a;return-1}-1===m.indexOf(a)&&(m.push(a),a=document.createElement("span"),a.className="ingredient",E(a,b),a.addEventListener("click",y,!1),h.appendChild(a),j());return 1},v=function(d){var e,f=u(("IMG"===d.target.tagName?d.target.parentNode:d.target).dataset.id);-1!==f&&(a.removeChild(b),b=document.createElement("ul"),e=C(l,""),e.forEach(x,b),a.appendChild(b),b.firstChild&&(b.firstChild.className=
"selected"),c.value="",f<m.length-1||!k?c.focus():c.blur(),d&&d.preventDefault&&d.preventDefault(),w())},x=function(a){var b=D(a.img),d=document.createElement("li");d.appendChild(b);d.appendChild(document.createTextNode(a.name));d.dataset.id=a.id;d.addEventListener("mousedown",v,!1);this.appendChild(d)},y=function(a){var b="IMG"===a.target.tagName?a.target.parentNode:a.target;if(k){if(null!==B(b))return E(b,null),j(),b.dataset.id;c.focus()}else return a=m.indexOf(b.dataset.id),m.splice(a,1),h.removeChild(b),
j(),m[a]||null},w=function(){0<ca.offsetLeft-a.offsetWidth?(a.style.left=-a.offsetWidth+"px",a.style.top=c.offsetTop+"px"):ca.offsetLeft+c.offsetLeft+c.offsetWidth+a.offsetWidth>window.innerWidth?(a.style.left=c.offsetLeft+"px",a.style.top=c.offsetTop+c.offsetHeight+"px"):(a.style.left=c.offsetLeft+c.offsetWidth+"px",a.style.top=c.offsetTop+"px")},z=function(){document.createElement("li");var d=C(l,c.value);a.removeChild(b);b=document.createElement("ul");d.forEach(x,b);b.firstChild&&(b.firstChild.className=
"selected");a.appendChild(b);w()},A=function(a){a="IMG"===a.target.tagName?a.target.parentNode.dataset.link:a.target.dataset.link;var b=C(l,a);1===b.length?u(b[0].id):(c.value=a,z(),c.focus())};"ingredients"===h.id?j=function(){var a,b,d,c,e;a=Array.prototype.map.call(m,function(a){return B(a)});b=$(a);d=b[0].health;c=b[0].hunger;e=I({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},b,function(a){return O(a,d,c)},"priority",
!0,A);r.firstChild&&r.removeChild(r.firstChild);r.firstChild&&(r.removeChild(r.firstChild),r.removeChild(r.firstChild));r.appendChild(e);null!==a[0]&&(Q(n,a,b),0<n.length&&(r.appendChild(document.createTextNode("Add more ingredients to make:")),e=I({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},n,function(a){return O(a,d,c)},"priority",!1,A),r.appendChild(e)))}:"inventory"===h.id&&(j=function(){var a;a=Array.prototype.map.call(h.getElementsByClassName("ingredient"),
function(a){return B(a)});q.firstChild&&q.removeChild(q.firstChild);0<a.length&&(Q(p,a,null,!0),0<p.length&&(a=I({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},p,O,"priority"),q.appendChild(a)))});0!==m.length?(k=!0,Array.prototype.forEach.call(m,function(a){E(a,null);a.addEventListener("click",y,!1)})):(m=[],k=!1);window.localStorage&&localStorage.foodGuideState&&(f=JSON.parse(localStorage.foodGuideState).pickers)&&f[d]&&
f[d].forEach(function(a){u(a)});a.className="ingredientdropdown";a.appendChild(b);a.addEventListener("mousedown",function(a){a.preventDefault()},!1);document.createElement("li");f=C(l,c.value);a.removeChild(b);b=document.createElement("ul");f.forEach(x,b);a.appendChild(b);b.firstChild&&(b.firstChild.className="selected");s.className="clearingredients";s.appendChild(document.createTextNode("clear"));s.addEventListener("click",function(){for(;B(h.firstChild);)y({target:h.firstChild})},!1);h.parentNode.insertBefore(s,
h);c.addEventListener("keydown",function(){},!1);c.addEventListener("keyup",function(a){var d,c,e;if(-1===[16,17,37,38,39,40,13].indexOf(a.keyCode))z();else{c=b.getElementsByTagName("li");for(e=0;e<c.length;e++)if("selected"===c[e].className){d=c[e];if(38===a.keyCode||40===a.keyCode)c[e].className="";38===a.keyCode?c[0>e-1?c.length-1:e-1].className="selected":40===a.keyCode?c[(e+1)%c.length].className="selected":13===a.keyCode&&d&&(v({target:d}),w());break}!d&&0<c.length&&(38===a.keyCode?c[c.length-
1].className="selected":40===a.keyCode?c[0].className="selected":13===a.keyCode&&v({target:c[0]}))}},!1);c.addEventListener("focus",function(){t||(t=!0,h.appendChild(a),w())},!1);c.addEventListener("blur",function(){t&&(t=!1,h.removeChild(a))},!1);j();window.addEventListener("beforeunload",function(){var a,b;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=[]),k?(b=[],b=Array.prototype.map.call(m,
function(a){return(a=B(a))?a.id:null}),a.pickers[d]=b):a.pickers[d]=m,localStorage.foodGuideState=JSON.stringify(a))})})()})();
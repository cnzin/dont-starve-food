(function(){var U=120*0.3333,d={butter:{name:"Butter",fat:1,dairy:1,health:50,hunger:25,perish:19200,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:25,hunger:9.375,perish:2880,stack:40},fish:{name:"Fish",ismeat:!0,meat:0.5,fish:1,health:25,hunger:12.5,perish:1440,stack:40},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:0.5,fish:1,health:50,hunger:12.5,perish:2880,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:40},honey:{name:"Honey",sweetener:!0,health:10,hunger:12.5,perish:19200,stack:40},mandrake:{name:"Mandrake",veggie:1,magic:1,health:75,hunger:75,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,health:100,hunger:150,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-25,hunger:25,perish:5760,stack:20},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,health:-5,
hunger:25,perish:8640,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:25,hunger:25,perish:2880,stack:20},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,health:35,hunger:37.5,perish:5760,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:2880,stack:40},morsel_cooked:{name:"Cooked Morsel",ismeat:!0,meat:0.5,health:25,hunger:12.5,perish:5760,stack:40},drumstick:{name:"Drumstick",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:20},drumstick_cooked:{name:"Fried Drumstick",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:20},egg:{name:"Tallbird Egg",egg:4,health:5,hunger:25},egg_cooked:{name:"Fried Tallbird Egg",egg:4,health:0,hunger:37.5},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:5760,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,health:5,hunger:25,perish:2880,stack:40},corn:{name:"Corn",isveggie:!0,veggie:1,health:5,hunger:25,perish:5760,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,health:5,
hunger:12.5,perish:8640,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:5,hunger:37.5,perish:5760,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,health:25,hunger:37.5,perish:2880,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:25,hunger:25,perish:5760,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,health:50,hunger:25,perish:2880,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-5,hunger:25,perish:5760,stack:20},
durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,health:0,hunger:25,perish:2880,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,health:75,hunger:12.5,perish:1440,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,health:75,hunger:12.5,
perish:1440,stack:40},berries:{name:"Berries",isfruit:!0,fruit:0.5,health:1,hunger:9.375,perish:2880,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:0.5,health:5,hunger:12.5,perish:1440,stack:40},goop:{name:"Rot",uncookable:!0,health:-1,hunger:-10,stack:40},seeds:{name:"Seeds",uncookable:!0,health:1,hunger:9.375,perish:19200,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:5,hunger:12.5,perish:5760,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},twigs:{name:"Twigs",
inedible:1},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,perish:2880,stack:40},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:35,hunger:37.5,perish:2880,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:50,hunger:75,perish:8640,stack:20}},V=function(a,e,c){return!this.item.test(a,e,c)},W=function(){return"not "+this.item},s=function(a){return{item:a,test:V,toString:W,cancel:!0}},X=function(a,e){return e[this.name]||e[this.name+
"_cooked"]},Y=function(){return d[this.name].name+(this.qty?this.qty:"")},k=function(a,e){return{name:a,qty:e||null,test:X,toString:Y}},Z=function(a,e){return e[this.name]},$=function(){return"*"+d[this.name].name+(this.qty?this.qty:"")},w=function(a,e){return{name:a,qty:e||null,test:Z,toString:$}},aa=function(a,e,c){return c[this.tag]},ba=function(){return this.tag+(this.qty?this.qty:"")},f=function(a,e){return{tag:a,qty:e||null,test:aa,toString:ba}},t={name:"Butter Muffin",test:function(a,e,c){return e.butterflywings&&
c.veggie},requires:"Butterfly Wings, veggie",requirements:[k("butterflywings"),f("veggie")],priority:1,weight:1,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:2},h={name:"Froggle Bunwich",test:function(a,e,c){return e.froglegs&&!e.froglegs_cooked&&c.veggie},requirements:[w("froglegs"),f("veggie")],priority:1,foodtype:"meat",health:25,hunger:37.5,perish:8640,cooktime:2},ca={name:"Stuffed Eggplant",test:function(a,e,c){return e.eggplant&&c.veggie&&1<c.veggie},requirements:[k("eggplant"),
f("veggie",">1")],priority:1,foodtype:"veggie",health:5,hunger:37.5,perish:8640,cooktime:2},da={name:"Fishsticks",test:function(a,e,c){return c.fish&&e.twigs},requirements:[f("fish"),k("twigs")],priority:10,foodtype:"meat",health:50,hunger:37.5,perish:5760,cooktime:2},ea={name:"Honey Nuggets",test:function(a,e,c){return e.honey&&c.meat&&1.5>=c.meat},requirements:[k("honey"),f("meat","<=1.5")],priority:2,foodtype:"meat",health:25,hunger:75,perish:8640,cooktime:2},fa={name:"Honey Ham",test:function(a,
e,c){return e.honey&&c.meat&&1.5<c.meat},requirements:[k("honey"),f("meat",">1.5")],priority:2,foodtype:"meat",health:75,hunger:75,perish:8640,cooktime:2},ga={name:"Dragonpie",test:function(a,e,c){return(e.dragonfruit||e.dragonfruit_cooked)&&!c.meat},requirements:[k("dragonfruit"),s(f("meat"))],priority:1,foodtype:"veggie",health:75,hunger:75,perish:8640,cooktime:2},ha={name:"Kabobs",test:function(a,e,c){return c.meat&&e.twigs},requirements:[f("meat"),k("twigs")],priority:5,foodtype:"meat",health:5,
hunger:37.5,perish:8640,cooktime:2},ia={name:"Mandrake Soup",test:function(a,e){return e.mandrake},requirements:[w("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:2880,cooktime:3},ja={name:"Bacon and Eggs",test:function(a,e,c){return c.egg&&1<c.egg&&c.meat&&1<c.meat&&!c.veggie},requirements:[f("egg",">1"),f("meat",">1"),s(f("veggie"))],priority:10,foodtype:"meat",health:75,hunger:75,perish:11520,cooktime:2},ka={name:"Meatballs",test:function(a,e,c){return c.meat},requirements:[f("meat")],
priority:-1,foodtype:"meat",health:25,hunger:62.5,perish:5760,cooktime:0.75},la={name:"Meaty Stew",test:function(a,e,c){return c.meat&&3<=c.meat},requirements:[f("meat",">=3")],priority:0,foodtype:"meat",health:25,hunger:150,perish:5760,cooktime:0.75},ma={name:"Pierogi",test:function(a,e,c){return c.egg&&c.meat&&c.veggie},requirements:[f("egg"),f("meat"),f("veggie")],priority:5,foodtype:"meat",health:50,hunger:37.5,perish:11520,cooktime:1},w=w("drumstick",">1"),na=f("meat",">1"),N=f("veggie"),O=f("fruit"),
g={butterflymuffin:t,frogglebunwich:h,stuffedeggplant:ca,fishsticks:da,honeynuggets:ea,honeyham:fa,dragonpie:ga,kabobs:ha,mandrakesoup:ia,baconeggs:ja,meatballs:ka,bonestew:la,perogies:ma,turkeydinner:{name:"Turkey Dinner",test:function(a,e,c){return e.drumstick&&1<e.drumstick&&c.meat&&1<c.meat&&(c.veggie||c.fruit)},requirements:[w,na,{item1:N,item2:O,test:function(a,e,c){return this.item1.test(a,e,c)||this.item2.test(a,e,c)},toString:function(){return this.item1+" or "+this.item2},cancel:N.cancel||
O.cancel}],priority:10,foodtype:"meat",health:25,hunger:75,perish:2880,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,e,c){return c.veggie},requirements:[f("veggie")],priority:0,foodtype:"veggie",health:25,hunger:25,perish:8640,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,e,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:0.5},fruitmedley:{name:"Fruit Medley",test:function(a,
e,c){return c.fruit&&!c.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:75,hunger:25,perish:2880,cooktime:0.5},fishtacos:{name:"Fish Tacos",test:function(a,e,c){return c.fish&&(e.corn||e.corn_cooked)},requirements:[f("fish"),k("corn")],priority:10,foodtype:"meat",health:75,hunger:37.5,perish:2880,cooktime:0.5},waffles:{name:"Waffles",test:function(a,e,c){return e.butter&&(e.berries||e.berries_cooked)&&c.egg},requirements:[k("butter"),k("berries"),f("egg")],priority:10,
foodtype:"veggie",health:75,hunger:37.5,perish:2880,cooktime:0.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,e,c){return c.monster&&2<=c.monster},requirements:[f("monster",">=2")],priority:10,foodtype:"meat",health:-1,hunger:37.5,perish:5760,cooktime:0.5},wetgoop:{name:"Wet Goop",test:function(){return!0},requirements:[],priority:-2,health:0,hunger:0,perish:2880,cooktime:0.25}},b,A,J,P,oa=function(a){a.match=a.uncookable?0:0===a.lowerName.indexOf(J)?1:P.test(a.lowerName)?2:0;return a.match},
pa=function(a,e){var c,b;return a.match===e.match?(c=a.raw?a.raw.name:a.name,b=e.raw?e.raw.name:e.name,c!==b?c>b?1:c<b?-1:0:a.name===e.name?0:a.raw===e?1:-1):a.match-e.match};A=function(a,e){J=e.toLowerCase();P=RegExp("\\b"+J.split("").join(".*")+".*");return a.filter(oa).sort(pa)};var K,L=[],F,m;K=function(a,e,c){var b,d;L.length=0;var f;F={};m={};for(b=0;b<a.length;b++)if(f=a[b],null!==f)for(d in F[f.id]=1+(F[f.id]||0),f)f.hasOwnProperty(d)&&"perish"!==d?m[d]=f[d]+(m[d]||0):"perish"===d&&(m[d]=
Math.min(m[d]||11520,f[d]));for(a=0;a<g.length;a++){d=!1;for(b=0;b<g[a].requirements.length;b++)if(g[a].requirements[b].test(null,F,m))g[a].requirements[b].cancel||(d=!0);else if(!c&&g[a].requirements[b].cancel){d=!1;break}else if(c&&!g[a].requirements[b].cancel){d=!1;break}d&&(!e||-1===e.indexOf(g[a]))&&L.push(g[a])}m.img="";m.name="Combined";return L};var Q,B=[],G,j;Q=function(a){B.length=0;var e,c,b;G={};j={};for(e=0;e<a.length;e++)if(b=a[e],null!==b)for(c in G[b.id]=1+(G[b.id]||0),b)b.hasOwnProperty(c)&&
"perish"!==c?j[c]=b[c]+(j[c]||0):"perish"===c&&(j[c]=Math.min(j[c]||11520,b[c]));for(a=0;a<g.length;a++)g[a].test(null,G,j)&&B.push(g[a]);B.sort(function(a,c){return c.priority-a.priority});j.img="";j.name="Combined";B.unshift(j);return B};var f=0,R=document.getElementById("main"),s=document.getElementById("food"),k=document.getElementById("recipes"),t=document.getElementById("navbar");document.documentElement.dataset||Object.defineProperty(Element.prototype,"dataset",{get:function(){this.ds||(this.ds=
{},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}});h=[];for(b in d)d.hasOwnProperty(b)&&(d[b].match=0,d[b].lowerName=d[b].name.toLowerCase(),d[b].id=b,d[b].img="img/"+d[b].name.replace(/ /g,"_").toLowerCase()+".png",h.length=0,-1!==b.indexOf("_cooked")&&(d[b].cooked=!0),d[b+"_cooked"]&&(d[b].cook=d[b+"_cooked"],d[b+"_cooked"].raw=d[b]),d[b].fruit&&h.push("fruit"+(1===d[b].fruit?"":" ("+d[b].fruit+
")")),d[b].veggie&&h.push("vegetable"+(1===d[b].veggie?"":" ("+d[b].veggie+")")),d[b].meat&&h.push("meat"+(1===d[b].meat?"":" ("+d[b].meat+")")),d[b].egg&&h.push("egg"+(1===d[b].egg?"":" ("+d[b].egg+")")),d[b].fish&&h.push("fish"),d[b].magic&&h.push("magic"),d[b].decoration&&h.push("decoration"),d[b].inedible&&h.push("inedible"),d[b].monster&&h.push("monster food"),d[b].sweetener&&h.push("sweetener"),d[b].fat&&h.push("fat"),d[b].dairy&&h.push("dairy"),d[b].cooked&&h.push("cooked "+d[b].raw.name),
d[b].cook&&h.push("cook into "+d[b].cook.name),d[b].uncookable&&h.push("cannot be added to crock pot"),d[b].info=h.join("; "),d[f++]=d[b]);d.length=f;d.forEach=Array.prototype.forEach;d.filter=Array.prototype.filter;d.sort=Array.prototype.forEach;f=0;for(b in g)g.hasOwnProperty(b)&&(g[b].match=0,g[b].name=g[b].name||b,g[b].id=b,g[b].lowerName=g[b].name.toLowerCase(),g[b].weight=g[b].weight||1,g[b].priority=g[b].priority||0,g[b].img="img/"+g[b].name.replace(/ /g,"_").toLowerCase()+".png",g[b].requirements&&
(g[b].requires=g[b].requirements.join("; ")),g[f++]=g[b]);g.length=f;g.forEach=Array.prototype.forEach;g.filter=Array.prototype.filter;g.sort=Array.prototype.sort;var f=t.getElementsByTagName("li"),C={},D={},u,q,t=function(a){q.className="";q=C[a.target.dataset.tab];u.style.display="none";u=D[a.target.dataset.tab];q.className="selected";u.style.display="block"};for(b=0;b<f.length;b++)h=f[b],h.dataset.tab&&(C[h.dataset.tab]=h,D[h.dataset.tab]=document.getElementById(h.dataset.tab),D[h.dataset.tab].style.display=
"none",h.addEventListener("click",t,!1));q=C.simulator;u=D.simulator;window.localStorage&&localStorage.foodGuideState&&("["===localStorage.foodGuideState[0]?(b={},b.pickers=JSON.parse(localStorage.foodGuideState),localStorage.foodGuideState=JSON.stringify(b)):b=JSON.parse(localStorage.foodGuideState),b.activeTab&&C[b.activeTab]&&(q=C[b.activeTab],u=D[b.activeTab]));q.className="selected";u.style.display="block";window.addEventListener("beforeunload",function(){var a;window.localStorage&&(localStorage.foodGuideState||
(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=q.dataset.tab,localStorage.foodGuideState=JSON.stringify(a))});var S=function(a){var e,c,b,d=document.createElement("tr"),f;for(e=1;e<arguments.length;e++)c=document.createElement(a),f=arguments[e]&&arguments[e].indexOf?arguments[e]:arguments[e].toString(),0===f.indexOf("img/")?(b=new Image,b.src=f,b.style.width="40px",b.style.height="40px",c.appendChild(b)):c.appendChild(document.createTextNode(f)),d.appendChild(c);
return d},E=function(a,e,c,b,d){var f,g,h,p=!1,k=function(b,j){var v,l,x;if(j||b&&""!==b.target.dataset.sort)x=j||b.target.dataset.sort,d&&(v=e.shift()),"name"===x?e.sort(function(a,c){var b=a.raw?a.raw.name:a.name,e=c.raw?c.raw.name:c.name;return b!==e?b>e?1:b<e?-1:0:a.name===c.name?0:a.raw===c?1:-1}):e.sort(function(a,c){var b=a[x],e=c[x];return!isNaN(b)&&!isNaN(e)?e-b:isNaN(b)&&isNaN(e)?0:isNaN(b)?1:-1}),h===x?p=!p:(h=x,p=!1),p&&e.reverse(),d&&e.unshift(v);v=document.createElement("tr");for(g in a)l=
document.createElement("th"),l.appendChild(document.createTextNode(g)),a[g]&&(a[g]===h&&(l.style.background=p?"#555":"#ccc",l.style.color=p?"#ccc":"#555",l.style.borderRadius="4px"),l.style.cursor="pointer",l.dataset.sort=a[g],l.addEventListener("click",k,!1)),v.appendChild(l);l=f;f=document.createElement("table");f.appendChild(v);e.forEach(c,f);l&&l.parentNode.replaceChild(f,l)};b?k(null,b):k();return f},H=function(a){return isNaN(a)?"":0<a?"+"+a:a};s.appendChild(E({"":"",Name:"name",Health:"health",
Hunger:"hunger",Perish:"perish",Info:""},Array.prototype.slice.call(d),function(a){this.appendChild(S("td",a.img?a.img:"",a.name,H(a.health),H(a.hunger),isNaN(a.perish)?"Never":a.perish/480+" days",a.info||""))},"name"));var I=function(a,b,c){return S("td",a.img?a.img:"",a.name,H(a.health)+(b&&a.health!==b?" ("+(1E3*(a.health/b)|0)/10+"%)":""),H(a.hunger)+(c&&a.hunger!==c?" ("+(1E3*(a.hunger/c)|0)/10+"%)":""),(a.cooktime*U+0.5|0)+" secs",isNaN(a.perish)?"Never":a.perish/480+" days",a.priority||"0",
a.requires||"")};k.appendChild(E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},Array.prototype.slice.call(g),function(a){this.appendChild(I(a))},"name"));window.food=d;window.recipes=g;window.matchingNames=A;for(var z=function(a,b){var c=!1;null!==b?a.dataset.id=b.id:a.nextSibling&&null!==y(a.nextSibling)?(z(a,y(a.nextSibling)),z(a.nextSibling,null),c=!0):a.dataset.id=null;c||(a.style.background=null!==b?"url('"+b.img+"') center center, url('img/background.png') top left":
"url('img/background.png') top left")},y=function(a){return d[a.dataset.id]||g[a.dataset.id]||null},T=document.getElementsByClassName("ingredientpicker"),M=T.length;M--;)(function(){var a=document.createElement("div"),b=document.createElement("ul"),c=T[M],f=M,h,k="recipes"===c.dataset.type?g:d,j=c.nextSibling,n=j.getElementsByClassName("ingredient"),p,m,r=document.getElementById("results"),q=document.getElementById("discover"),v=document.createElement("span"),l=!1,x=function(a){var b=d[a]||g[a]||
null;if(p){for(a=0;a<n.length;a++)if(null===y(n[a]))return z(n[a],b),m(),a;return-1}-1===n.indexOf(a)&&(n.push(a),a=document.createElement("span"),a.className="ingredient",z(a,b),a.addEventListener("click",w,!1),j.appendChild(a),m());return 1},s=function(d){var f,g=x(d.target.dataset.id);-1!==g&&(a.removeChild(b),b=document.createElement("ul"),f=A(k,""),f.forEach(u,b),a.appendChild(b),c.value="",g<n.length-1||!p?c.focus():c.blur(),d&&d.preventDefault&&d.preventDefault(),t())},u=function(a){var b=
new Image,c=document.createElement("li");b.src=a.img;c.appendChild(b);c.appendChild(document.createTextNode(a.name));c.dataset.id=a.id;c.addEventListener("mousedown",s,!1);this.appendChild(c)},w=function(a){var b;if(p){if(null!==y(a.target))return z(a.target,null),m(),a.target.dataset.id;c.focus()}else return b=n.indexOf(a.target.dataset.id),n.splice(b,1),j.removeChild(a.target),m(),n[b]||null},t=function(){0<R.offsetLeft-a.offsetWidth?(a.style.left=-a.offsetWidth+"px",a.style.top=c.offsetTop+"px"):
R.offsetLeft+c.offsetLeft+c.offsetWidth+a.offsetWidth>window.innerWidth?(a.style.left=c.offsetLeft+"px",a.style.top=c.offsetTop+c.offsetHeight+"px"):(a.style.left=c.offsetLeft+c.offsetWidth+"px",a.style.top=c.offsetTop+"px")};"ingredients"===j.id?m=function(){var a,b,c,e,d;a=Array.prototype.map.call(n,function(a){return y(a)});b=Q(a);c=b[0].health;e=b[0].hunger;d=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},b,function(a){this.appendChild(I(a,
c,e))},"priority",!0);r.firstChild&&r.removeChild(r.firstChild);r.firstChild&&(r.removeChild(r.firstChild),r.removeChild(r.firstChild));r.appendChild(d);null!==a[0]&&(b=K(a,b),0<b.length&&(r.appendChild(document.createTextNode("Add more ingredients to make:")),d=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},b,function(a){this.appendChild(I(a,c,e))},"priority"),r.appendChild(d)))}:"inventory"===j.id&&(m=function(){var a;
a=Array.prototype.map.call(j.getElementsByClassName("ingredient"),function(a){return y(a)});q.firstChild&&q.removeChild(q.firstChild);0<a.length&&(a=K(a,null,!0),0<a.length&&(a=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},a,function(a){this.appendChild(I(a))},"priority"),q.appendChild(a)))});0!==n.length?(p=!0,Array.prototype.forEach.call(n,function(a){z(a,null);a.addEventListener("click",w,!1)})):(n=[],p=!1);window.localStorage&&
localStorage.foodGuideState&&(h=JSON.parse(localStorage.foodGuideState).pickers)&&h[f]&&h[f].forEach(function(a){x(a)});a.className="ingredientdropdown";a.appendChild(b);a.addEventListener("mousedown",function(a){a.preventDefault()},!1);document.createElement("li");h=A(k,c.value);a.removeChild(b);b=document.createElement("ul");h.forEach(u,b);a.appendChild(b);v.className="clearingredients";v.appendChild(document.createTextNode("clear"));v.addEventListener("click",function(){for(;y(j.firstChild);)w({target:j.firstChild})},
!1);j.parentNode.insertBefore(v,j);c.addEventListener("keydown",function(a){var c,d,f;d=b.getElementsByTagName("li");for(f=0;f<d.length;f++)if("selected"===d[f].className){c=d[f];d[f].className="";38===a.keyCode?d[0>f-1?d.length-1:f-1].className="selected":40===a.keyCode?d[(f+1)%d.length].className="selected":13===a.keyCode&&c&&(s({target:c}),t());break}!c&&0<d.length&&(38===a.keyCode?d[d.length-1].className="selected":40===a.keyCode?d[0].className="selected":13===a.keyCode&&s({target:d[0]}))},!1);
c.addEventListener("keyup",function(d){-1===[16,17,37,38,39,40,13].indexOf(d.keyCode)&&(document.createElement("li"),d=A(k,c.value),a.removeChild(b),b=document.createElement("ul"),d.forEach(u,b),b.firstChild&&(b.firstChild.className="selected"),a.appendChild(b),t())},!1);c.addEventListener("focus",function(){l||(l=!0,j.appendChild(a),t())},!1);c.addEventListener("blur",function(){l&&(l=!1,j.removeChild(a))},!1);m();window.addEventListener("beforeunload",function(){var a,b;window.localStorage&&(localStorage.foodGuideState||
(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=[]),p?(b=[],b=Array.prototype.map.call(n,function(a){return(a=y(a))?a.id:null}),a.pickers[f]=b):a.pickers[f]=n,localStorage.foodGuideState=JSON.stringify(a))})})()})();
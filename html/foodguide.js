(function(){var U=120*0.3333,e={butter:{name:"Butter",fat:1,dairy:1,health:50,hunger:25,perish:19200,stack:40},butterflywings:{name:"Butterfly Wings",isveggie:!0,decoration:2,health:25,hunger:9.375,perish:2880,stack:40},fish:{name:"Fish",ismeat:!0,meat:0.5,fish:1,health:25,hunger:12.5,perish:1440,stack:40},fish_cooked:{name:"Cooked Fish",ismeat:!0,meat:0.5,fish:1,health:50,hunger:12.5,perish:2880,stack:40},froglegs:{name:"Frog Legs",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:40},froglegs_cooked:{name:"Cooked Frog Legs",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:40},honey:{name:"Honey",sweetener:!0,health:10,hunger:12.5,perish:19200,stack:40},mandrake:{name:"Mandrake",veggie:1,magic:1,health:75,hunger:75,stack:40},mandrake_cooked:{name:"Cooked Mandrake",uncookable:!0,veggie:1,magic:1,health:100,hunger:150,stack:40},monstermeat:{name:"Monster Meat",ismeat:!0,meat:1,monster:!0,health:-25,hunger:25,perish:5760,stack:20},monstermeat_cooked:{name:"Cooked Monster Meat",ismeat:!0,meat:1,monster:!0,health:-5,
hunger:25,perish:8640,stack:20},meat:{name:"Meat",ismeat:!0,meat:1,health:25,hunger:25,perish:2880,stack:20},meat_cooked:{name:"Cooked Meat",ismeat:!0,meat:1,health:35,hunger:37.5,perish:5760,stack:20},morsel:{name:"Morsel",ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:2880,stack:40},morsel_cooked:{name:"Cooked Morsel",ismeat:!0,meat:0.5,health:25,hunger:12.5,perish:5760,stack:40},drumstick:{name:"Drumstick",ismeat:!0,meat:0.5,health:1,hunger:12.5,perish:2880,stack:20},drumstick_cooked:{name:"Fried Drumstick",
ismeat:!0,meat:0.5,health:5,hunger:12.5,perish:5760,stack:20},egg:{name:"Tallbird Egg",egg:4,health:5,hunger:25},egg_cooked:{name:"Fried Tallbird Egg",egg:4,health:0,hunger:37.5},carrot:{name:"Carrot",isveggie:!0,veggie:1,health:1,hunger:12.5,perish:5760,stack:40},carrot_cooked:{name:"Roasted Carrot",isveggie:!0,veggie:1,health:5,hunger:25,perish:2880,stack:40},corn:{name:"Corn",isveggie:!0,veggie:1,health:5,hunger:25,perish:5760,stack:40},corn_cooked:{name:"Popcorn",isveggie:!0,veggie:1,health:5,
hunger:12.5,perish:8640,stack:40},pumpkin:{name:"Pumpkin",isveggie:!0,veggie:1,health:5,hunger:37.5,perish:5760,stack:20},pumpkin_cooked:{name:"Hot Pumpkin",isveggie:!0,veggie:1,health:25,hunger:37.5,perish:2880,stack:20},eggplant:{name:"Eggplant",isveggie:!0,veggie:1,health:25,hunger:25,perish:5760,stack:20},eggplant_cooked:{name:"Braised Eggplant",isveggie:!0,veggie:1,health:50,hunger:25,perish:2880,stack:20},durian:{name:"Durian",isfruit:!0,monster:1,fruit:1,health:-5,hunger:25,perish:5760,stack:20},
durian_cooked:{name:"Extra Smelly Durian",isfruit:!0,monster:1,fruit:1,health:0,hunger:25,perish:2880,stack:20},pomegranate:{name:"Pomegranate",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},pomegranate_cooked:{name:"Sliced Pomegranate",isfruit:!0,fruit:1,health:75,hunger:12.5,perish:1440,stack:40},dragonfruit:{name:"Dragon Fruit",isfruit:!0,fruit:1,health:25,hunger:9.375,perish:2880,stack:40},dragonfruit_cooked:{name:"Prepared Dragon Fruit",isfruit:!0,fruit:1,health:75,hunger:12.5,
perish:1440,stack:40},berries:{name:"Berries",isfruit:!0,fruit:0.5,health:1,hunger:9.375,perish:2880,stack:40},berries_cooked:{name:"Roasted Berries",isfruit:!0,fruit:0.5,health:5,hunger:12.5,perish:1440,stack:40},goop:{name:"Rot",uncookable:!0,health:-1,hunger:-10,stack:40},seeds:{name:"Seeds",uncookable:!0,health:1,hunger:9.375,perish:19200,stack:40},seeds_cooked:{name:"Toasted Seeds",uncookable:!0,health:5,hunger:12.5,perish:5760,stack:40},honeycomb:{name:"Honeycomb",sweetener:!0},twigs:{name:"Twigs",
inedible:1},petals:{name:"Petals",uncookable:!0,health:1,hunger:0,perish:2880,stack:40},trunk_summer:{name:"Koalefant Trunk",uncookable:!0,ismeat:!0,health:35,hunger:37.5,perish:2880,stack:20},trunk_summer_cooked:{name:"Koalefant Trunk Steak",uncookable:!0,ismeat:!0,health:50,hunger:75,perish:8640,stack:20}},V=function(a,d,b){return!this.item.test(a,d,b)},W=function(){return"not "+this.item},s=function(a){return{item:a,test:V,toString:W,cancel:!0}},X=function(a,d){return d[this.name]||d[this.name+
"_cooked"]},Y=function(){return e[this.name].name+(this.qty?this.qty:"")},j=function(a,d){return{name:a,qty:d||null,test:X,toString:Y}},Z=function(a,d){return d[this.name]},$=function(){return"*"+e[this.name].name+(this.qty?this.qty:"")},t=function(a,d){return{name:a,qty:d||null,test:Z,toString:$}},aa=function(a,d,b){return b[this.tag]},ba=function(){return this.tag+(this.qty?this.qty:"")},f=function(a,d){return{tag:a,qty:d||null,test:aa,toString:ba}},z={name:"Butter Muffin",test:function(a,d,b){return d.butterflywings&&
b.veggie},requires:"Butterfly Wings, veggie",requirements:[j("butterflywings"),f("veggie")],priority:1,weight:1,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:2},h={name:"Froggle Bunwich",test:function(a,d,b){return d.froglegs&&!d.froglegs_cooked&&b.veggie},requirements:[t("froglegs"),f("veggie")],priority:1,foodtype:"meat",health:25,hunger:37.5,perish:8640,cooktime:2},ca={name:"Stuffed Eggplant",test:function(a,d,b){return d.eggplant&&b.veggie&&1<b.veggie},requirements:[j("eggplant"),
f("veggie",">1")],priority:1,foodtype:"veggie",health:5,hunger:37.5,perish:8640,cooktime:2},da={name:"Fishsticks",test:function(a,d,b){return b.fish&&d.twigs},requirements:[f("fish"),j("twigs")],priority:10,foodtype:"meat",health:50,hunger:37.5,perish:5760,cooktime:2},ea={name:"Honey Nuggets",test:function(a,d,b){return d.honey&&b.meat&&1.5>=b.meat},requirements:[j("honey"),f("meat","<=1.5")],priority:2,foodtype:"meat",health:25,hunger:75,perish:8640,cooktime:2},fa={name:"Honey Ham",test:function(a,
d,b){return d.honey&&b.meat&&1.5<b.meat},requirements:[j("honey"),f("meat",">1.5")],priority:2,foodtype:"meat",health:75,hunger:75,perish:8640,cooktime:2},ga={name:"Dragonpie",test:function(a,d,b){return(d.dragonfruit||d.dragonfruit_cooked)&&!b.meat},requirements:[j("dragonfruit"),s(f("meat"))],priority:1,foodtype:"veggie",health:75,hunger:75,perish:8640,cooktime:2},ha={name:"Kabobs",test:function(a,d,b){return b.meat&&d.twigs},requirements:[f("meat"),j("twigs")],priority:5,foodtype:"meat",health:5,
hunger:37.5,perish:8640,cooktime:2},ia={name:"Mandrake Soup",test:function(a,d){return d.mandrake},requirements:[t("mandrake")],priority:10,foodtype:"veggie",health:100,hunger:150,perish:2880,cooktime:3},ja={name:"Bacon and Eggs",test:function(a,d,b){return b.egg&&1<b.egg&&b.meat&&1<b.meat&&!b.veggie},requirements:[f("egg",">1"),f("meat",">1"),s(f("veggie"))],priority:10,foodtype:"meat",health:75,hunger:75,perish:11520,cooktime:2},ka={name:"Meatballs",test:function(a,d,b){return b.meat},requirements:[f("meat")],
priority:-1,foodtype:"meat",health:25,hunger:62.5,perish:5760,cooktime:0.75},la={name:"Meaty Stew",test:function(a,d,b){return b.meat&&3<=b.meat},requirements:[f("meat",">=3")],priority:0,foodtype:"meat",health:25,hunger:150,perish:5760,cooktime:0.75},ma={name:"Pierogi",test:function(a,d,b){return b.egg&&b.meat&&b.veggie},requirements:[f("egg"),f("meat"),f("veggie")],priority:5,foodtype:"meat",health:50,hunger:37.5,perish:11520,cooktime:1},t=t("drumstick",">1"),na=f("meat",">1"),N=f("veggie"),O=f("fruit"),
g={butterflymuffin:z,frogglebunwich:h,stuffedeggplant:ca,fishsticks:da,honeynuggets:ea,honeyham:fa,dragonpie:ga,kabobs:ha,mandrakesoup:ia,baconeggs:ja,meatballs:ka,bonestew:la,perogies:ma,turkeydinner:{name:"Turkey Dinner",test:function(a,d,b){return d.drumstick&&1<d.drumstick&&b.meat&&1<b.meat&&(b.veggie||b.fruit)},requirements:[t,na,{item1:N,item2:O,test:function(a,d,b){return this.item1.test(a,d,b)||this.item2.test(a,d,b)},toString:function(){return this.item1+" or "+this.item2},cancel:N.cancel||
O.cancel}],priority:10,foodtype:"meat",health:25,hunger:75,perish:2880,cooktime:3},ratatouille:{name:"Ratatouille",test:function(a,d,b){return b.veggie},requirements:[f("veggie")],priority:0,foodtype:"veggie",health:25,hunger:25,perish:8640,cooktime:1},jammypreserves:{name:"Fist Full of Jam",test:function(a,d,b){return b.fruit&&!b.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:25,hunger:37.5,perish:8640,cooktime:0.5},fruitmedley:{name:"Fruit Medley",test:function(a,
d,b){return b.fruit&&!b.veggie},requirements:[f("fruit"),s(f("veggie"))],priority:0,foodtype:"veggie",health:75,hunger:25,perish:2880,cooktime:0.5},fishtacos:{name:"Fish Tacos",test:function(a,d,b){return b.fish&&(d.corn||d.corn_cooked)},requirements:[f("fish"),j("corn")],priority:10,foodtype:"meat",health:75,hunger:37.5,perish:2880,cooktime:0.5},waffles:{name:"Waffles",test:function(a,d,b){return d.butter&&(d.berries||d.berries_cooked)&&b.egg},requirements:[j("butter"),j("berries"),f("egg")],priority:10,
foodtype:"veggie",health:75,hunger:37.5,perish:2880,cooktime:0.5},monsterlasagna:{name:"Monster Lasagna",test:function(a,d,b){return b.monster&&2<=b.monster},requirements:[f("monster",">=2")],priority:10,foodtype:"meat",health:-1,hunger:37.5,perish:5760,cooktime:0.5},wetgoop:{name:"Wet Goop",test:function(){return!0},requirements:[],priority:-2,health:0,hunger:0,perish:2880,cooktime:0.25}},c,A,J,P,oa=function(a){a.match=a.uncookable?0:0===a.lowerName.indexOf(J)?1:P.test(a.lowerName)?2:0;return a.match},
pa=function(a,d){var b,c;return a.match===d.match?(b=a.raw?a.raw.name:a.name,c=d.raw?d.raw.name:d.name,b!==c?b>c?1:b<c?-1:0:a.name===d.name?0:a.raw===d?1:-1):a.match-d.match};A=function(a,d){J=d.toLowerCase();P=RegExp("\\b"+J.split("").join(".*")+".*");return a.filter(oa).sort(pa)};var K,L=[],F,n;K=function(a,d,b){var c,e;L.length=0;var f;F={};n={};for(c=0;c<a.length;c++)if(f=a[c],null!==f)for(e in F[f.id]=1+(F[f.id]||0),f)f.hasOwnProperty(e)&&"perish"!==e?n[e]=f[e]+(n[e]||0):"perish"===e&&(n[e]=
Math.min(n[e]||11520,f[e]));for(a=0;a<g.length;a++){e=!1;for(c=0;c<g[a].requirements.length;c++)if(g[a].requirements[c].test(null,F,n))g[a].requirements[c].cancel||(e=!0);else if(!b&&g[a].requirements[c].cancel){e=!1;break}else if(b&&!g[a].requirements[c].cancel){e=!1;break}e&&(!d||-1===d.indexOf(g[a]))&&L.push(g[a])}n.img="";n.name="Combined";return L};var Q,B=[],G,k;Q=function(a){B.length=0;var d,b,c;G={};k={};for(d=0;d<a.length;d++)if(c=a[d],null!==c)for(b in G[c.id]=1+(G[c.id]||0),c)c.hasOwnProperty(b)&&
"perish"!==b?k[b]=c[b]+(k[b]||0):"perish"===b&&(k[b]=Math.min(k[b]||11520,c[b]));for(a=0;a<g.length;a++)g[a].test(null,G,k)&&B.push(g[a]);B.sort(function(a,b){return b.priority-a.priority});k.img="";k.name="Combined";B.unshift(k);return B};var f=0,R=document.getElementById("main"),s=document.getElementById("food"),j=document.getElementById("recipes"),z=document.getElementById("navbar");document.documentElement.dataset||Object.defineProperty(Element.prototype,"dataset",{get:function(){this.ds||(this.ds=
{},Array.prototype.forEach.call(this.attributes,function(a){0===a.name.indexOf("data-")&&(this.ds[a.name.substring(5)]=a.value)},this));return this.ds}});h=[];for(c in e)e.hasOwnProperty(c)&&(e[c].match=0,e[c].lowerName=e[c].name.toLowerCase(),e[c].id=c,e[c].img="img/"+e[c].name.replace(/ /g,"_").toLowerCase()+".png",h.length=0,-1!==c.indexOf("_cooked")&&(e[c].cooked=!0),e[c+"_cooked"]&&(e[c].cook=e[c+"_cooked"],e[c+"_cooked"].raw=e[c]),e[c].fruit&&h.push("fruit"+(1===e[c].fruit?"":" ("+e[c].fruit+
")")),e[c].veggie&&h.push("vegetable"+(1===e[c].veggie?"":" ("+e[c].veggie+")")),e[c].meat&&h.push("meat"+(1===e[c].meat?"":" ("+e[c].meat+")")),e[c].egg&&h.push("egg"+(1===e[c].egg?"":" ("+e[c].egg+")")),e[c].fish&&h.push("fish"),e[c].magic&&h.push("magic"),e[c].decoration&&h.push("decoration"),e[c].inedible&&h.push("inedible"),e[c].monster&&h.push("monster food"),e[c].sweetener&&h.push("sweetener"),e[c].fat&&h.push("fat"),e[c].dairy&&h.push("dairy"),e[c].cooked&&h.push("cooked "+e[c].raw.name),
e[c].cook&&h.push("cook into "+e[c].cook.name),e[c].uncookable&&h.push("cannot be added to crock pot"),e[c].info=h.join("; "),e[f++]=e[c]);e.length=f;e.forEach=Array.prototype.forEach;e.filter=Array.prototype.filter;e.sort=Array.prototype.forEach;f=0;for(c in g)g.hasOwnProperty(c)&&(g[c].match=0,g[c].name=g[c].name||c,g[c].id=c,g[c].lowerName=g[c].name.toLowerCase(),g[c].weight=g[c].weight||1,g[c].priority=g[c].priority||0,g[c].img="img/"+g[c].name.replace(/ /g,"_").toLowerCase()+".png",g[c].requirements&&
(g[c].requires=g[c].requirements.join("; ")),g[f++]=g[c]);g.length=f;g.forEach=Array.prototype.forEach;g.filter=Array.prototype.filter;g.sort=Array.prototype.sort;var f=z.getElementsByTagName("li"),C={},D={},u,q,z=function(a){q.className="";q=C[a.target.dataset.tab];u.style.display="none";u=D[a.target.dataset.tab];q.className="selected";u.style.display="block"};for(c=0;c<f.length;c++)h=f[c],h.dataset.tab&&(C[h.dataset.tab]=h,D[h.dataset.tab]=document.getElementById(h.dataset.tab),D[h.dataset.tab].style.display=
"none",h.addEventListener("click",z,!1));q=C.simulator;u=D.simulator;window.localStorage&&localStorage.foodGuideState&&(c=JSON.parse(localStorage.foodGuideState),c.activeTab&&C[c.activeTab]&&(q=C[c.activeTab],u=D[c.activeTab]));q.className="selected";u.style.display="block";window.addEventListener("beforeunload",function(){var a;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.activeTab=q.dataset.tab,localStorage.foodGuideState=
JSON.stringify(a))});var S=function(a){var d,b,c,e=document.createElement("tr"),f;for(d=1;d<arguments.length;d++)b=document.createElement(a),f=arguments[d]&&arguments[d].indexOf?arguments[d]:arguments[d].toString(),0===f.indexOf("img/")?(c=new Image,c.src=f,c.style.width="40px",c.style.height="40px",b.appendChild(c)):b.appendChild(document.createTextNode(f)),e.appendChild(b);return e},E=function(a,d,b,c,e){var f,g,h,p=!1,j=function(c,k){var v,l,w;if(k||c&&""!==c.target.dataset.sort)w=k||c.target.dataset.sort,
e&&(v=d.shift()),"name"===w?d.sort(function(a,b){var d=a.raw?a.raw.name:a.name,c=b.raw?b.raw.name:b.name;return d!==c?d>c?1:d<c?-1:0:a.name===b.name?0:a.raw===b?1:-1}):d.sort(function(a,b){var d=a[w],c=b[w];return!isNaN(d)&&!isNaN(c)?c-d:isNaN(d)&&isNaN(c)?0:isNaN(d)?1:-1}),h===w?p=!p:(h=w,p=!1),p&&d.reverse(),e&&d.unshift(v);v=document.createElement("tr");for(g in a)l=document.createElement("th"),l.appendChild(document.createTextNode(g)),a[g]&&(a[g]===h&&(l.style.background=p?"#555":"#ccc",l.style.color=
p?"#ccc":"#555",l.style.borderRadius="4px"),l.style.cursor="pointer",l.dataset.sort=a[g],l.addEventListener("click",j,!1)),v.appendChild(l);l=f;f=document.createElement("table");f.appendChild(v);d.forEach(b,f);l&&l.parentNode.replaceChild(f,l)};c?j(null,c):j();return f},H=function(a){return isNaN(a)?"":0<a?"+"+a:a};s.appendChild(E({"":"",Name:"name",Health:"health",Hunger:"hunger",Perish:"perish",Info:""},Array.prototype.slice.call(e),function(a){this.appendChild(S("td",a.img?a.img:"",a.name,H(a.health),
H(a.hunger),isNaN(a.perish)?"Never":a.perish/480+" days",a.info||""))},"name"));var I=function(a,d,b){return S("td",a.img?a.img:"",a.name,H(a.health)+(d&&a.health!==d?" ("+(1E3*(a.health/d)|0)/10+"%)":""),H(a.hunger)+(b&&a.hunger!==b?" ("+(1E3*(a.hunger/b)|0)/10+"%)":""),(a.cooktime*U+0.5|0)+" secs",isNaN(a.perish)?"Never":a.perish/480+" days",a.priority||"0",a.requires||"")};j.appendChild(E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",
Requires:""},Array.prototype.slice.call(g),function(a){this.appendChild(I(a))},"name"));window.food=e;window.recipes=g;window.matchingNames=A;for(var y=function(a,d){var b=!1;null!==d?a.dataset.id=d.id:a.nextSibling&&null!==x(a.nextSibling)?(y(a,x(a.nextSibling)),y(a.nextSibling,null),b=!0):a.dataset.id=null;b||(a.style.background=null!==d?"url('"+d.img+"') center center, url('img/background.png') top left":"url('img/background.png') top left")},x=function(a){return e[a.dataset.id]||g[a.dataset.id]||
null},T=document.getElementsByClassName("ingredientpicker"),M=T.length;M--;)(function(){var a=document.createElement("div"),d=document.createElement("ul"),b=T[M],c=M,f,h="recipes"===b.dataset.type?g:e,j=b.nextSibling,m=j.getElementsByClassName("ingredient"),p,k,r=document.getElementById("results"),n=document.getElementById("discover"),v=document.createElement("span"),l=!1,w=function(a){var b=e[a]||g[a]||null;if(p){for(a=0;a<m.length;a++)if(null===x(m[a]))return y(m[a],b),k(),a;return-1}-1===m.indexOf(a)&&
(m.push(a),a=document.createElement("span"),a.className="ingredient",y(a,b),a.addEventListener("click",u,!1),j.appendChild(a),k());return 1},q=function(c){var e,f=w(c.target.dataset.id);-1!==f&&(a.removeChild(d),d=document.createElement("ul"),e=A(h,""),e.forEach(s,d),a.appendChild(d),b.value="",f<m.length-1||!p?b.focus():b.blur(),c&&c.preventDefault&&c.preventDefault(),t())},s=function(a){var c=new Image,b=document.createElement("li");c.src=a.img;b.appendChild(c);b.appendChild(document.createTextNode(a.name));
b.dataset.id=a.id;b.addEventListener("mousedown",q,!1);this.appendChild(b)},u=function(a){var c;if(p){if(null!==x(a.target))return y(a.target,null),k(),a.target.dataset.id;b.focus()}else return c=m.indexOf(a.target.dataset.id),m.splice(c,1),j.removeChild(a.target),k(),m[c]||null},t=function(){0<R.offsetLeft-a.offsetWidth?(a.style.left=-a.offsetWidth+"px",a.style.top=b.offsetTop+"px"):R.offsetLeft+b.offsetLeft+b.offsetWidth+a.offsetWidth>window.innerWidth?(a.style.left=b.offsetLeft+"px",a.style.top=
b.offsetTop+b.offsetHeight+"px"):(a.style.left=b.offsetLeft+b.offsetWidth+"px",a.style.top=b.offsetTop+"px")};"ingredients"===j.id?k=function(){var a,c,b,d,e;a=Array.prototype.map.call(m,function(a){return x(a)});c=Q(a);b=c[0].health;d=c[0].hunger;e=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},c,function(a){this.appendChild(I(a,b,d))},"priority",!0);r.firstChild&&r.removeChild(r.firstChild);r.firstChild&&(r.removeChild(r.firstChild),
r.removeChild(r.firstChild));r.appendChild(e);null!==a[0]&&(c=K(a,c),0<c.length&&(r.appendChild(document.createTextNode("Add more ingredients to make:")),e=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},c,function(a){this.appendChild(I(a,b,d))},"priority"),r.appendChild(e)))}:"inventory"===j.id&&(k=function(){var a;a=Array.prototype.map.call(j.getElementsByClassName("ingredient"),function(a){return x(a)});n.firstChild&&
n.removeChild(n.firstChild);0<a.length&&(a=K(a,null,!0),0<a.length&&(a=E({"":"",Name:"name",Health:"health",Hunger:"hunger","Cook Time":"cooktime",Perish:"perish",Priority:"priority",Requires:""},a,function(a){this.appendChild(I(a))},"priority"),n.appendChild(a)))});0!==m.length?(p=!0,Array.prototype.forEach.call(m,function(a){y(a,null);a.addEventListener("click",u,!1)})):(m=[],p=!1);window.localStorage&&localStorage.foodGuideState&&(f=JSON.parse(localStorage.foodGuideState).pickers)&&f[c]&&f[c].forEach(function(a){w(a)});
a.className="ingredientdropdown";a.appendChild(d);a.addEventListener("mousedown",function(a){a.preventDefault()},!1);document.createElement("li");f=A(h,b.value);a.removeChild(d);d=document.createElement("ul");f.forEach(s,d);a.appendChild(d);v.className="clearingredients";v.appendChild(document.createTextNode("clear"));v.addEventListener("click",function(){for(;x(j.firstChild);)u({target:j.firstChild})},!1);j.parentNode.insertBefore(v,j);b.addEventListener("keydown",function(a){var c,b,e;b=d.getElementsByTagName("li");
for(e=0;e<b.length;e++)if("selected"===b[e].className){c=b[e];b[e].className="";38===a.keyCode?b[0>e-1?b.length-1:e-1].className="selected":40===a.keyCode?b[(e+1)%b.length].className="selected":13===a.keyCode&&c&&(q({target:c}),t());break}!c&&0<b.length&&(38===a.keyCode?b[b.length-1].className="selected":40===a.keyCode?b[0].className="selected":13===a.keyCode&&q({target:b[0]}))},!1);b.addEventListener("keyup",function(c){-1===[16,17,37,38,39,40,13].indexOf(c.keyCode)&&(document.createElement("li"),
c=A(h,b.value),a.removeChild(d),d=document.createElement("ul"),c.forEach(s,d),d.firstChild&&(d.firstChild.className="selected"),a.appendChild(d),t())},!1);b.addEventListener("focus",function(){l||(l=!0,j.appendChild(a),t())},!1);b.addEventListener("blur",function(){l&&(l=!1,j.removeChild(a))},!1);k();window.addEventListener("beforeunload",function(){var a,b;window.localStorage&&(localStorage.foodGuideState||(localStorage.foodGuideState="{}"),a=JSON.parse(localStorage.foodGuideState),a.pickers||(a.pickers=
[]),p?(b=[],b=Array.prototype.map.call(m,function(a){return(a=x(a))?a.id:null}),a.pickers[c]=b):a.pickers[c]=m,localStorage.foodGuideState=JSON.stringify(a))})})()})();